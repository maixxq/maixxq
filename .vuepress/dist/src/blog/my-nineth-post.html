<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Data Structure &amp; Algo - Leetcode 289 Game of Life.</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/assets/css/0.styles.02edf1fd.css" as="style"><link rel="preload" href="/assets/js/app.90976eed.js" as="script"><link rel="preload" href="/assets/js/2.861e931a.js" as="script"><link rel="preload" href="/assets/js/17.4850a87d.js" as="script"><link rel="prefetch" href="/assets/js/10.d9a6f23c.js"><link rel="prefetch" href="/assets/js/11.bef298db.js"><link rel="prefetch" href="/assets/js/12.efb01f17.js"><link rel="prefetch" href="/assets/js/13.e9f96185.js"><link rel="prefetch" href="/assets/js/14.fe54f414.js"><link rel="prefetch" href="/assets/js/15.2974fe7a.js"><link rel="prefetch" href="/assets/js/16.38708b8d.js"><link rel="prefetch" href="/assets/js/18.44f911cb.js"><link rel="prefetch" href="/assets/js/19.85461c2d.js"><link rel="prefetch" href="/assets/js/20.a94d2ab5.js"><link rel="prefetch" href="/assets/js/21.c0deb5f6.js"><link rel="prefetch" href="/assets/js/22.80e8a88d.js"><link rel="prefetch" href="/assets/js/23.d6f67f6e.js"><link rel="prefetch" href="/assets/js/3.5b6889f5.js"><link rel="prefetch" href="/assets/js/4.0ac3e95f.js"><link rel="prefetch" href="/assets/js/5.7ae9ceff.js"><link rel="prefetch" href="/assets/js/6.5475fba6.js"><link rel="prefetch" href="/assets/js/7.d4f11875.js"><link rel="prefetch" href="/assets/js/8.d46e131a.js"><link rel="prefetch" href="/assets/js/9.11ead18e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.02edf1fd.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><!---->  <!----> </div> <div class="page"> <div class="content__default"><p>According to the Wikipedia's article: &quot;The Game of Life, also known simply as Life, is a cellular automaton devised by the British mathematician John Horton Conway in 1970.&quot;</p> <p>Given a board with m by n cells, each cell has an initial state live (1) or dead (0). Each cell interacts with its eight neighbors (horizontal, vertical, diagonal) using the following four rules (taken from the above Wikipedia article):</p> <p>Any live cell with fewer than two live neighbors dies, as if caused by under-population.
Any live cell with two or three live neighbors lives on to the next generation.
Any live cell with more than three live neighbors dies, as if by over-population..
Any dead cell with exactly three live neighbors becomes a live cell, as if by reproduction.
Write a function to compute the next state (after one update) of the board given its current state. The next state is created by applying the above rules simultaneously to every cell in the current state, where births and deaths occur simultaneously.</p> <div class="language- extra-class"><pre class="language-text"><code>Example:

Input: 
[
  [0,1,0],
  [0,0,1],
  [1,1,1],
  [0,0,0]
]
Output: 
[
  [0,0,0],
  [1,0,1],
  [0,1,1],
  [0,1,0]
]
</code></pre></div><p><strong>Follow up:</strong></p> <ol><li><p>Could you solve it in-place? Remember that the board needs to be updated at the same time: You cannot update some cells first and then use their updated values to update other cells.</p></li> <li><p>In this question, we represent the board using a 2D array. In principle, the board is infinite, which would cause problems when the active area encroaches the border of the array. How would you address these problems?</p></li></ol> <h4 id="o-mn-space-solution"><a href="#o-mn-space-solution" class="header-anchor">#</a> O(MN) space solution</h4> <p>It is important to realise that simultaneous update of the 2D grid with the next generation will modify the original grid which we may lose track of the actual number of live neighbours. Therefore, one way to solve this is by duplicating the original 2D grid which will not be altered throughout the updating process. By checking the eight neighbours of an cell in the duplicated unmodified board, we can then change the original board to generate the next generation based on the given rules.
While this problem can be solved by duplicating the original 2D grid, this requires O(MN) space. The O(MN) space complexity can be expensive as the board grows larger. Detailed implementation of this method can be found in its leetcode article with comprehensive explaination. (Cheers to the lovely tech community) ðŸš€</p> <h4 id="complexity-analysis"><a href="#complexity-analysis" class="header-anchor">#</a> Complexity Analysis</h4> <ul><li><p>Time Complexity: O(MÃ—N), where M is the number of rows and N is the number of columns of the Board.</p></li> <li><p>Space Complexity:O(MÃ—N), where M is the number of rows and N is the number of columns of the Board. This is the space occupied by the copy board we created initially.</p></li></ul> <h4 id="o-1-space-solution"><a href="#o-1-space-solution" class="header-anchor">#</a> O(1) space solution</h4> <p>This approach entails in place modification of the grid without the need for another copy of the original one. We can change the value of the call such that it is able to represent both the previous and new generation. To do so, we can make use of the binary representation number 0, 1, 2, 3. That is 0 as 0000, 1 as 0001, 2 as 0010 and 3 as 0011.</p> <p><strong>Algorithm</strong></p> <ol><li>iteration of each cell in the 2D grid. Iteration of 2D grid can be done by:</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>int row <span class="token operator">=</span> board<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
int col <span class="token operator">=</span> board<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> row<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>int j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> col<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token comment">//each cell </span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>Assign number 1, 2 or 3 to the original grid based on the rules for the game of life.</li></ol> <ul><li><p>Any live cell with fewer than two live neighbors dies, as if caused by under-population. Number 1 is used to mark the state of cell from live to dead.</p></li> <li><p>Any live cell with two or three live neighbors lives on to the next generation. Number 3 is used to mark the state of cell from live to remain as live.</p></li> <li><p>Any live cell with more than three live neighbors dies, as if by over-population. Number 1 is used as the state of cell change from live to dead.</p></li> <li><p>Any dead cell with exactly three live neighbors becomes a live cell, as if by reproduction. Number 2 is used to mark the state of cell from dead to live.</p></li></ul> <ol start="3"><li>With the newly computed 2D grid, we are still able to accurately count the number of lives of the eight surrounding neighbours at each iteration by check:</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>board<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">&amp;</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    lives<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The meaning of ( <strong><code>something &amp;1</code></strong> ) returns a boolean result of 0 or 1 depending on the least significant bit of the <strong><code>something</code></strong>.
E.g Binary representation of 1 as 0001 has 1 as its last bit which will return 1. Likewise, binary representation of 2 as 0010 has 0. As such, the state of previous state of cell is preserved even after modification.</p> <p><img src="/gol001.svg" alt=" ogl001's Photo "></p> <p>To check the eight neighbours of a cell, we can make 2 vectors of integers covering the horizontal direction and the vertical direction respectively.</p> <div class="language-js extra-class"><pre class="language-js"><code>vector<span class="token operator">&lt;</span>int<span class="token operator">&gt;</span> dx <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
vector<span class="token operator">&lt;</span>int<span class="token operator">&gt;</span> dy <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">for</span><span class="token punctuation">(</span>int i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>row<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">for</span><span class="token punctuation">(</span>int j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>col<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       int lives <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
       <span class="token keyword">for</span><span class="token punctuation">(</span>int d <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> d<span class="token operator">&lt;</span><span class="token number">8</span><span class="token punctuation">;</span> d<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           int x <span class="token operator">=</span> i <span class="token operator">+</span> dx<span class="token punctuation">[</span>d<span class="token punctuation">]</span><span class="token punctuation">;</span>
           int y <span class="token operator">=</span> j <span class="token operator">+</span> dy<span class="token punctuation">[</span>d<span class="token punctuation">]</span><span class="token punctuation">;</span>
           <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> y <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> x <span class="token operator">&gt;=</span> row <span class="token operator">||</span> y <span class="token operator">&gt;=</span> col<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>
           <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>board<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
               lives<span class="token operator">++</span><span class="token punctuation">;</span>
           <span class="token punctuation">}</span>
       <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>          
<span class="token operator">...</span>
</code></pre></div><h4 id="demo-of-iteration-for-each-row"><a href="#demo-of-iteration-for-each-row" class="header-anchor">#</a> Demo of iteration for each row</h4> <p><img src="/gol000.svg" alt=" ogl00's Photo "></p> <ol start="4"><li>Iterate the new 2D grid and modify the number assigned according to its second lowest bit. For example, second lowest bit for the number 1 with binary representation as 0001 is 0, marking a dead cell in the next generation while cells updated to number 2 (binary: 0010) or 3 (binary: 0011) will live in the next generation. To examine each cell's second lowest bit, we use <code>board[i][j] &gt;&gt;= 1</code> which means the value of board[i][j] is being shifted by one bit to the right.</li></ol> <h3 id="notes"><a href="#notes" class="header-anchor">#</a> Notes</h3> <p>There are quite a fair bit to digest in this problem using the in place solution. It is my first time making use of bit representation. It definitely didn't come intuitively. Glad that this gives me a little exposure to binary representation of numbers. The qusestion introduce operators like <code>x &amp; 1</code> and <code>x &gt;&gt;= 1</code>.It is one new topic I have yet started reading about it. The directional iteration is quite useful in such 2D grid problems so it's worth noting it down.</p> <p>Also, the concept of 'in-place' is something notable. According to an article on <a href="https://www.geeksforgeeks.org/in-place-algorithm/" target="_blank" rel="noopener noreferrer">geeksforgeeks<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>:</p> <h4 id="strict-definition-of-in-place-algorithm"><a href="#strict-definition-of-in-place-algorithm" class="header-anchor">#</a> Strict definition of in-place algorithm</h4> <blockquote><p>An in-place algorithm is an algorithm that does not need an extra space and produces an output in the same memory that contains the data by transforming the input â€˜in-placeâ€™. However, a small constant extra space used for variables is allowed.</p></blockquote> <h4 id="more-general-definition-of-in-place-algorithm"><a href="#more-general-definition-of-in-place-algorithm" class="header-anchor">#</a> More general definition of in-place algorithm</h4> <blockquote><p>In-place means that the algorithm does not use extra space for manipulating the input but may require a small though nonconstant extra space for its operation. Usually, this space is O(log n), though sometimes anything in o(n) (Smaller than linear) is allowed.</p></blockquote></div> <div class="page-edit"><!----> <!----></div> <!----> </div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.90976eed.js" defer></script><script src="/assets/js/2.861e931a.js" defer></script><script src="/assets/js/17.4850a87d.js" defer></script>
  </body>
</html>
